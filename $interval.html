<!DOCTYPE HTML>
<html ng-app="MyModule">
	<head>
		<meta charset="UTF-8" />
		<title>angularjs-$interval</title>
		<link href="css/bootstrap.min.css" rel="stylesheet" />
		<script type="text/javascript" src="freamwork/angular-1.3.0.js"></script>
		<script type="text/javascript" src="freamwork/angular/angular-animate.min.js"></script>
		<script type="text/javascript" src="js/controler.js"></script>
		<style type="text/css">
		</style>
	</head>
	<body>
		<div ng-controller="intervalCtrls">
			<p>{{count}}</p>
			<button class="btn-primary" ng-click="clear()">clear</button>
		</div>
		
	


	<script type="text/javascript">
	
		var myModule = angular.module('MyModule', []);

		myModule.controller('intervalCtrls', function ($scope, $interval, $location, $timeout){
			$scope.count = 100;
			var timer = $interval(function (){
				$scope.count = $scope.count - 1;
			}, 1000);

			$scope.clear = function (){
				if (!timer) return ;
				$interval.cancel(timer);
				timer = null;
				console.log($scope.count);
			};

			$timeout(function (){
				alert('i am timeout, i am sorry');
			}, 2000);

			console.log($location.absUrl());
			console.log($location.url());
			console.log($location.hash());
			console.log($location.protocol());
			console.log($location.search());

		});

	</script>
	</body>
</html>