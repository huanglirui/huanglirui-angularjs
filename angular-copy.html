<!DOCTYPE HTML>
<html ng-app="MyModule">
	<head>
		<meta charset="UTF-8" />
		<title>angularjs</title>
		<link href="css/bootstrap.min.css" rel="stylesheet" />
		<script type="text/javascript" src="freamwork/angular-1.3.0.js"></script>
		<script type="text/javascript" src="freamwork/angular/angular-animate.min.js"></script>
		<script type="text/javascript" src="js/controler.js"></script>
		<style type="text/css">
		body {
			padding-top: 50px;
		}
		</style>
	</head>
	<body>
		<div ng-controller="appCtrl" >
			<form action="" style="margin-bottom:50px;">
				<div class="row">
					<div class="form-group col-md-4">
						<label for="inputname">name:</label>
						<input type="text" class="form-control" id="inputname" ng-model="contactCopy.name" />
					</div>
					<div class="form-group col-md-4">
						<label for="inputsex">sex:</label>
						<input type="text" class="form-control" id="inputsex" ng-model="contactCopy.sex">
					</div>
					<div class="form-group col-md-4">
						<label for="inputcity">city:</label>
						<input type="text" class="form-control" id="inputcity" ng-model="contactCopy.city">
					</div>
					<button class="btn btn-danger" ng-click="saveContact()">save copy</button>			
				</div>
			</form>

			<table class="table table-striped table-border">
				<thead>
					<tr>
						<th>name</th>
						<th>sex</th>
						<th>city</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="contact in contacts" ng-click="selectContact(contact)">
						<td>{{contact.name}}</td>
						<td>{{contact.sex}}</td>
						<td>{{contact.city}}</td>
					</tr>
				</tbody>
			</table>
		</div>
			

			
		


	<script type="text/javascript">
		
		var myModule = angular.module('MyModule', []);

		myModule.controller('appCtrl', ['$scope', 'contacts', function ($scope, contacts){
			
			$scope.contacts = contacts;
			$scope.selectedContact = null;

			$scope.selectContact = function (contact){
				$scope.selectedContact = contact;
				$scope.contactCopy = angular.copy(contact);
			};

			$scope.saveContact = function (){
				$scope.selectedContact.name = $scope.contactCopy.name ;
				$scope.selectedContact.sex = $scope.contactCopy.sex ;
				$scope.selectedContact.city = $scope.contactCopy.city ;
			};

		}]);

		myModule.factory('contacts', function (){

			return [
				{'name': '黄立睿', 'sex': '男', 'city': '天津'},
				{'name': '贺远飞', 'sex': '男', 'city': '德阳'},
				{'name': '王杰', 'sex': '男', 'city': '成都'},
				{'name': '钟文豪', 'sex': '男', 'city': '天津'},
			];

		});


	</script>
	</body>
</html>