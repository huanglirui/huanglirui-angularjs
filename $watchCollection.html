<!DOCTYPE HTML>
<html ng-app="MyModule">
	<head>
		<meta charset="UTF-8" />
		<title>angularjs-$watchCollection</title>
		<link href="css/bootstrap.min.css" rel="stylesheet" />
		<script type="text/javascript" src="freamwork/angular-1.3.0.js"></script>
		<script type="text/javascript" src="freamwork/angular/angular-animate.min.js"></script>
		<script type="text/javascript" src="js/controler.js"></script>
		<style type="text/css">
		</style>
	</head>
	<body>
		<div ng-controller="watchjColCtrl"></div>
			
		


	<script type="text/javascript">

		var myModule = angular.module('MyModule', []);

		myModule.controller('watchjColCtrl', ['$scope', '$timeout', function ($scope, $timeout){

			/*$scope.$watch(function (){
				//$watch  就会触发  $digest脏值检测
				console.log('$digest loop has run ...');
			});*/


			//$watch
			/*$scope.message = 'huanglirui';

			$scope.$watch('message', function (newValue, oldValue){
				console.log(newValue);
				console.log(oldValue);
			});

			$timeout(function (){
				$scope.message = 'i have been changed';
			}, 2000);
			*/
			

			//$watchGroup
			/*$scope.message1 = 'huanglirui';
			$scope.message2 = 'mengfahong';

			$scope.$watchGroup(['message1', 'message2'], function (newValues, oldValues){
				console.log(newValues);
				console.log(oldValues);
			});

			$timeout(function (){
				$scope.message1 = 'i have been changed';
			}, 2000);
			$timeout(function (){
				$scope.message2 = 'i have been love you';
			}, 4000);*/


			//$watchCollection
			$scope.arr = ['huanglirui', 'mengfahong', 'heyuanfei'];
			$scope.$watchCollection('arr', function (newValues, oldValues){
				console.log(newValues);
				console.log(oldValues);
			});

			$timeout(function (){
				$scope.arr.push('zhengwenhao');
			}, 2000);
			$timeout(function (){
				$scope.arr.unshift('wangjie');
			}, 4000);



		}]);


		
	</script>
	</body>
</html>


